\documentclass[thesis.tex]{subfiles}

\begin{document}

\chapter{Introduction}

Over the past two decades, we have seen a growing number of networked sensors
and actuators installed in our connected world. These sensors and actuators
offer an unprecedented ability to monitor and act. Because of the enormous
potentials in solving societal-scale problems, this trend has gained significant
attraction, as demonstrated by many parallel efforts: Internet of Things
(IoT)~\cite{atzori2010internet}, Internet of Everything
(IoE)~\cite{bradley2013internet}, Industry 4.0~\cite{lasi2014industry}, The
Industrial Internet~\cite{eigner2018industrial}, TSensors (Trillion
Sensors)~\cite{bogue2014towards}, Machine to Machine
(M2M)~\cite{anton2014machine}, Smarter Planet~\cite{palmisano2008smarter},
etc. In this thesis, we refer to this trend as \textit{the swarm} because it
well characterizes where the potentials lie: the number and the scale of
interconnected devices.

Swarm applications generate, transport, distill, and process large streams of
data across the wide area, often in real time. For example, large cities such as
London and Beijing have deployed millions of cameras for surveillance and
traffic control~\cite{skynet, london.surveillance}. Buildings are increasingly
equipped with a wide variety of sensors to improve energy efficiency and
occupant comfort~\cite{dawson2010smap, krioukov2012building}. With billions,
potentially trillions~\cite{middleton2013forecast}, of devices interconnected,
the swarm will become an enormous challenge to the underlying infrastructure.

In the past few years, swarm applications have adopted the cloud as a universal
computation resource and a storage backend~\cite{carriots, grovestreams, sami,
  xively, gupta2014bolt, zachariah1001internet}. Despite the illusion of
unlimited resources, economic benefits, and simplified management of the cloud,
applications must address the scarce and variable wide-area network (WAN)
bandwidth. In addition to the cloud, swarm applications can use the edge---such
as the fog~\cite{bonomi2012fog, bar2013fog}, cloudlet~\cite{ha2014towards,
  satyanarayanan2009case, chen2018application}, and swarmbox---that reduces
communication distances and provides more resources. However, edge devices are
inherently heterogeneous: some are quite limited in their processing
capabilities and some may be overloaded by service requests.

The success of swarm applications requires us to address the gap between the
growing application demand and constrained resources. Take network resources as
an example, when facing situations when the bandwidth is not sufficient,
applications deployed today either choose a conservative setting (e.g.\,only
delivering low resolution videos) or leave their fate to the underlying
transport layer: (1) in the case of TCP, the sender will be blocked and data are
backlogged, leading to severe delays; (2) in the case of UDP, uncontrolled
packet loss occurs, leading to application performance drop. Instead,
applications can act proactively by adjusting their behavior, e.g., trading
application accuracy (fidelity) for a timely delivery (freshness).

Making an application adaptive is not challenging. Developers can easily write
some rules that modify application behaviors under certain
circumstances. However, such manual policies are often sub-optimal unless the
developers have invested a substantial amount of time studying the effect of the
crafted manual policies. With the scale of swarm development, writing manual
policies is not a viable approach.

In this thesis, we propose to adapt swarm applications, in a systematic and
quantitative approach. By ``systematic'', I mean programming abstractions that
allow developers to embed adaptation options; by ``quantitative'', I mean an
automatic profiling tool that learns the adaptation strategy in a data-driven
approach.

\vspace{1em}

\noindent\textbf{Thesis Statement} \newline
\textit{Systematic adaptation and quantitative profiling are the key to
  a resilient swarm.}

\vspace{1em}

In the remainder of this chapter, I first summarize the challenges with
developing swarm applications and elaborate our systematic and quantitative
adaptation. I then highlight our key results and layout the roadmap for the rest
of the thesis.

\section{Challenges with Developing Swarm Applications}
\label{sec:chall-with-exist}

We identify the following challenges that are unique to swarm applications,

\para{Constrained Resources.} The amount of the data generated by the vast
numbers of sensors is massive. The network resources are limited to transport
the data. And the compute resources, especially low-power end device and the
edge.

\para{Heterogeneous Devices.} The swarm has a wide spectrum of devices with
heterogeneous computing capabilities.

\para{Large Design Space.} Many devices. Algorithm tuning. Choices of sensors,
algorithms, data quality.

\para{Ad-hoc Development and Manual Efforts.} Developers strive to make the
application working due to many moving pieces.

\section{Systematic and Quantitative Adaptation}
\label{sec:adaptation}

\para{Programming Abstractions.} We propose to introduces new programming
abstractions by which a developer expresses \emph{what} adaptations are
available. Importantly, developers do not have to specify exactly when and how
different adaptations are to be used which is instead left to the underlying
framework.

\para{Data-driven Automatic Profiling.} Rather than rely on manual policies, we
can build tools that automatically \emph{learns} adaptation policy that are
Pareto optimal. This learning process can be both offline and online, exploiting
parallelism, sampling or statistical approaches to efficiently explore the
configuration space. This network-adaptation profile remains the same across
devices.When we apply the same principle to compute resource, in Chapter 3, we
focus on performance modeling and improve the efficiency. Unique challenges:

We also demonstrate how such strategy can be employed in running systems and
adapt to resource changes. For example, \sysname{} matches the streaming data
rate to the measured available bandwidth. Upon encountering network congestion,
it increases the degradation level to reduce the data rate, such that no
persistent queue builds up. To recover, it progressively decreases the
degradation level after probing for more available bandwidth. Our experiments
show that \sysname{} achieves sub-second latency with only nominal accuracy drop
(2-6\%).

\section{Summary of Results}
\label{sec:summary-results-1}

We implement \awstream{} and use it to prototype three streaming applications:
augmented reality (AR), pedestrian detection (PD), and distributed Top-K
(TK). We use real-world data to profile these applications and evaluate their
runtime performance on a geo-distributed public cloud.  We show that
\awstream{}'s data-driven approach generates accurate profiles and that our
parallelism and sampling techniques can speed up profiling by up to 29$\times$
and 8.7$\times$ respectively.

With the combination of \awstream{}'s ability to learn better policies and its
well-designed runtime, our evaluation shows that \awstream{} significantly
outperforms non-adaptive applications: achieving a 40--100$\times$ reduction in
packet delivery times relative to applications built over TCP, or an over
45--88\% improvement in data fidelity (application accuracy) relative to
applications built over UDP. We also compare \awstream{} to
JetStream~\cite{rabkin2014aggregation}, a state-of-the-art system for building
adaptive streaming analytics that is based on manual policies. Our results show
that besides the benefit of generating optimal policies \textit{automatically},
\awstream{} achieves a 15-20$\times$ reduction in latency and 1-5\% improvement
in accuracy simultaneously relative to JetStream.

\section{Thesis Organization}
\label{sec:thesis-organization}

The remainder of this thesis is organized as follows:

\begin{itemize}[topsep=5pt]
\item \autoref{cha:background} covers the background for swarm applications. I
  first summarize the landscape of the emerging swarm applications and show that
  they have fundamental differences from previous related concepts.  Many swarm
  applications are constructed using a cloud-centric approach. I then argue
  against it by discussing the pitfalls including security, privacy,
  scalability, latency, etc. A new tier of computing infrastructure, the edge,
  arises to accompany the cloud. While it reduces network latency and provides
  more resource, the edge has its own challenges, such as increased
  heterogeneity. The swarm landscape and the argument against the cloud are
  based on joint work with Nitesh Mor, John Kolb, Douglas S. Chan, Nikhil Goyal,
  Ken Lutz, Eric Allman, John Wawrzynek, Edward A. Lee, and John
  Kubiatowicz~\cite{zhang2015cloud}.
\item In \autoref{cha:netw-reso-adapt}, I present adapting swarm applications to
  network resources. Many swarm applications that transport large streams of
  data across the wide area faces challenges with the scarce and variable
  bandwidth. This chapter focus on \awstream{} that integrates application
  adaptation as a first-class programming abstraction and automatically learns
  an accurate profile that models accuracy and bandwidth trade-off. Using the
  profile to guide application adaptation at runtime, we demonstrate that
  \awstream{} achieves sub-second latency with only nominal accuracy drop
  (2-6\%).  The chapter is based on joint work with Xin Jin, Sylvia Ratnasamy,
  John Wawrzynek, and Edward A. Lee~\cite{zhang2018awstream}.
\item In \autoref{cha:comp-reso-adapt}, I present adapting swarm applications to
  compute resources. Due to the heterogeneous capabilities of end devices and
  variable network/serving latency, it is challenging to provide a consistent
  bounded response times for swarm applications. I propose to build a
  performance model that characterizes accuracy and processing time trade-off to
  guide the execution. This chapter focuses on efficient profiling: using
  Bayesian Optimization (BO) to address the large parameter space and profile
  transfer to address heterogeneous capabilities of different devices.
\item Chapter 5 discusses related research and industrial efforts.
\item Finally, I conclude this thesis and identify important research directions
  for future work.
\end{itemize}

The research presented in this thesis is supported in part by Berkeley
Ubiquitous SwarmLab~\cite{swarmlab} and the TerraSwarm Research
Center~\cite{terraswarm}, one of six centers supported by the STARnet phase of
the Focus Center Research Program (FCRP) a Semiconductor Research Corporation
program sponsored by MARCO and DARPA.



\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
